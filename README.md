# DPIP-Lite

**一個專為台灣地震監測打造的簡單、美觀、輕量化即時資訊看板**

---

## 簡介

此專案為一個輕量級的單頁網頁應用程式 (Single Page Application)，專注於呈現**台灣地區**的即時地震資訊。
有別於複雜的安裝程式，本專案將**地震速報 (EEW)**、**即時震動 (RTS)** 與 **歷史地震重播** 整合於同一張地圖介面，滿足使用者對於輕量化監測與災後資訊回溯的需求。

系統具備 P 波與 S 波模擬運算與自動定位測距功能，能直觀地展示地震波傳遞與所在地預估震度。

**主要功能**
*   **全方位整合**：包含 ExpTech API 提供的地震速報、歷史報告與測站即時震動 (RTS)。
*   **情境模擬**：點擊歷史列表即可進行「地震回放」，地圖上將動態繪製 P 波（綠色）與 S 波（紅色）擴散圈，並倒數 S 波抵達使用者位置的時間。
*   **即時動態**：
    *   **RTS 圖層**：即時顯示全台測站 PGA 數值，以顏色區分震度等級。
    *   **EEW 速報**：當發生顯著有感地震時，頂部會自動彈出紅色警示橫幅。
*   **智慧定位**：
    *   自動計算震央與使用者的距離。
    *   依據距離與深度推算所在地預估震度（PGA 轉換）。
    *   支援自動追蹤位置更新（Auto Location），且不打斷正在進行的模擬回放。
*   **高相容性**：採用純 HTML/JS 編寫，無需後端伺服器，支援響應式設計 (RWD)，手機與電腦皆可流暢使用。

## ⚠️ 重要提示

**關於 P 波 / S 波 模擬準確度**

地圖上的 P 波與 S 波擴散圈僅為**視覺模擬**。程式採用固定的波速常數（Vp=6.5km/s, Vs=3.5km/s）進行線性推算，並未考慮地質構造與實際深度的複雜變數。因此，倒數秒數僅供參考，**不可作為防災避難的唯一依據**。

**關於效能消耗**

若開啟「即時震動 (RTS)」圖層，地圖上會繪製大量測站圓點。在低階手機裝置上拖動地圖時可能會有些微掉幀現象，關閉 RTS 圖層開關可改善流暢度。

## 使用方式

1.  請前往專案網頁（或開啟 `index.html`）。
2.  瀏覽器詢問位置權限時建議**允許**，以便系統計算您所在地的預估震度與倒數時間。
3.  **瀏覽地圖**：
    *   🔵/🟢/🟡/🔴 圓點：即時測站震動 (RTS)，顏色代表震度。
    *   ⭕ 虛線圓圈：歷史地震的影響範圍。
4.  **情境模擬**：點擊左側（或手機版下方）的「歷史地震」列表項目，系統將進入模擬模式，重演地震波擴散過程。
5.  **查看詳情**：左側面板（Monitor Panel）會即時顯示目前的監測狀態（閒置/警報）或模擬中的數值。
6.  **圖層設定**：可透過面板上的開關切換「即時震動 (RTS)」圖層的顯示與隱藏。

## 備註

1.  **定位精準度**：預設位置設為台北 101。若開啟定位，將使用裝置 GPS，室內可能會有些許誤差。

## 資料來源

-   [ExpTech API](https://exptech.dev/) (提供地震報告、速報與測站資料)
-   [Central Weather Administration (CWA)](https://www.cwa.gov.tw/) (原始地震資料來源)
## 版權與聲明

本專案為開源學習用途，皆可自由共享與修改，但**不可用於盈利目的**。
本工具不屬於 [ExpTech 團隊](https://exptech.dev/) 或[中央氣象署](https://www.cwa.gov.tw/)之官方應用程式，所有數據僅供參考。

## 已知錯誤

*   在 iOS Safari 上，若頻繁切換瀏覽器分頁，可能會導致 `requestAnimationFrame` 或 `setInterval` 暫停，進而影響倒數計時的準確性。
*   當使用者移動速度過快（如搭乘高鐵）時，自動定位雖然會更新座標，但對已發生的地震波倒數修正可能會有短暫延遲。

## 貢獻

歡迎對本專案感興趣的開發者一起參與貢獻！您可以透過 GitHub 提交 Pull Request 來改善程式碼、優化模擬演算法或修復錯誤。

## 貢獻者

*   [AndrewCho0531](https://github.com/AndrewCho0531)：邏輯編寫、UI設計、錯誤修正
